<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>

</style>
<script>

    function printResult() {
        const div = document.getElementById("infoTxt");
        const residentNumber = document.getElementById("residentNumberInput");
        const info = getPersonalInfo(residentNumber.value);
        alert(info.age);
        alert(info.gender);
        alert(info.birthYear);
        div.innerHTML = `${info.birthYear}년생${info.age}세${info.gender}입니다`;
    }

    function getPersonalInfo(residentNumber) {
        // 주민등록번호에서 필요한 정보 추출
        const yearOfBirth = parseInt(residentNumber.substr(0, 2));
        const genderNumber = parseInt(residentNumber.substr(7, 1));

        const age = calculateAge(residentNumber);
        const gender = (genderNumber % 2 === 1) ? "남성" : "여성";

        // 결과 반환
        return {
            birthYear: 1900 + yearOfBirth,
            gender: gender,
            age: age
        };
    }

    // 정확한 나이를 계산하는 함수
    function calculateAge(residentNumber) {
        // 주민등록번호에서 생년월일 부분 추출
        const birthYear = parseInt(residentNumber.substr(0, 2));
        const birthMonth = parseInt(residentNumber.substr(2, 2));
        const birthDay = parseInt(residentNumber.substr(4, 2));

        // 현재 날짜
        const currentDate = new Date();
        const currentYear = currentDate.getFullYear();
        const currentMonth = currentDate.getMonth() + 1; // getMonth()는 0부터 시작하므로 +1 해줌
        const currentDay = currentDate.getDate();

        // 생년월일을 기준으로 나이 계산
        const age = currentYear - (1900 + birthYear);

        // 생일이 지났는지 여부 체크
        if (currentMonth < birthMonth || (currentMonth === birthMonth && currentDay < birthDay)) {
            age--; // 아직 생일이 오지 않았으면 한 살 빼기
        }

        return age;
    }
</script>

<body>
    주민등록번호 <input type="text" id="residentNumberInput" placeholder="주민등록번호를 입력하세요"> <input type="button" value="정보 출력"
        onclick="printResult()">
    <br>
    <div id="infoTxt"></div>
</body>

</html>